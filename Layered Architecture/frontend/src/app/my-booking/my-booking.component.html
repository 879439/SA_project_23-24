<!-- my-booking.component.html -->

<div *ngIf="isAdmin==false" class="container mt-5 kmc9">
    <h2>My Bookings</h2>
    <table class="table">
      <thead>
        <tr>
          <th>Booking Date</th>
          <th>Passenger Name</th>
          <th>Passenger Email</th>
          <th>Passenger Birthdate</th>
          <th>Seat Selection</th>
          <th>Flight Details</th>
          <th>Delete Booking</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of bookings">
          <td>{{ booking.booking.date | date:'medium' }}</td>
          <td>{{ booking.booking.passengers[0].firstname }}</td>
          <td>{{ booking.booking.passengers[0].email  }}</td>
          <td>{{ booking.booking.passengers[0].birthday  }}</td>
          <td>{{ booking.booking.passengers[0].seat }}</td>
          <td>
            Flight {{ booking.flightId1 }}<br>
            Origin: {{ booking.departure}}<br>
            Destination: {{ booking.arrival}}<br>
            Date: {{ booking.date | date:'medium' }}<br>
            Price: {{ booking.booking.price | currency }}
          </td>
          <td><button (click)="deleteBooking(booking.booking.id)">Delete</button></td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="bookings.length === 0">No bookings available.</p>
  </div>
  <div *ngIf="isAdmin==true">
    <app-flights-list></app-flights-list>
  </div>
